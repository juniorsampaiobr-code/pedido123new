import{j as e,b as Br,u as ce,c as Dr}from"./tanstack-D8i8yNxB.js";import{r as l,R as Qe,u as Gr,h as Kr,L as Ur}from"./vendor-Dl0Wzy4_.js";import{o as Zr,s as V,l as Jr,e as Hr,p as Re,c as Ze,n as Qr,Z as K,u as Wr,t as Xr}from"./types-BCrSgEF3.js";import{s as z}from"./client-BmrnLCXS.js";import{c as Se,f as Ie,g as ge,P as J,i as fe,h as We,l as Yr,m as Xe,b as ne,n as es,k as rs,a as Ye,u as N,v as ss,L as Ee}from"./index-BZ9Et3rv.js";import{B as oe}from"./button-wBHuNB0L.js";import{C as de,b as ue,c as me,a as pe}from"./card-Dql-WQPT.js";import{I as O}from"./label-BLZeqliv.js";import{c as er,R as as,I as os,a as ts,C as ns}from"./index-BurEaLMR.js";import{u as is}from"./index-BB_oiUC3.js";import{u as ls}from"./index-PuW-_iwo.js";import{S as te}from"./separator-fVfA66mw.js";import{T as cs}from"./textarea-DMYlaPRy.js";import{A as Y,a as ee,b as re}from"./alert-B71Gicj0.js";import{F as ds,b as I,c as C,a as P,e as k,d as X}from"./form-BAX_eFpG.js";import{Z as us,L as ms}from"./ZipCodeInput-D1Y6_RVT.js";import{S as ps}from"./shopping-cart-CzquXHJP.js";import{T as Je}from"./terminal-D_qzRGHB.js";import{A as hs}from"./arrow-left-4clqmmcb.js";import{T as He}from"./truck-CUCi4eKf.js";import{S as rr,a as fs}from"./store-C-fwTALs.js";import{M as Pe}from"./map-pin-AJHG8rxZ.js";import{C as sr}from"./credit-card-CZMB0LUI.js";import{P as xs}from"./package-Dykjb_IL.js";import{D as gs}from"./dollar-sign-CEx7tbBm.js";import"./supabase-A1WgB1xz.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Se("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var ke="Radio",[bs,ar]=Ie(ke),[Ns,Cs]=bs(ke),or=l.forwardRef((r,s)=>{const{__scopeRadio:t,name:c,checked:n=!1,required:d,disabled:i,value:m="on",onCheck:g,form:x,...j}=r,[w,_]=l.useState(null),f=ge(s,$=>_($)),y=l.useRef(!1),v=w?x||!!w.closest("form"):!0;return e.jsxs(Ns,{scope:t,checked:n,disabled:i,children:[e.jsx(J.button,{type:"button",role:"radio","aria-checked":n,"data-state":lr(n),"data-disabled":i?"":void 0,disabled:i,value:m,...j,ref:f,onClick:fe(r.onClick,$=>{n||g==null||g(),v&&(y.current=$.isPropagationStopped(),y.current||$.stopPropagation())})}),v&&e.jsx(ir,{control:w,bubbles:!y.current,name:c,value:m,checked:n,required:d,disabled:i,form:x,style:{transform:"translateX(-100%)"}})]})});or.displayName=ke;var tr="RadioIndicator",nr=l.forwardRef((r,s)=>{const{__scopeRadio:t,forceMount:c,...n}=r,d=Cs(tr,t);return e.jsx(We,{present:c||d.checked,children:e.jsx(J.span,{"data-state":lr(d.checked),"data-disabled":d.disabled?"":void 0,...n,ref:s})})});nr.displayName=tr;var ws="RadioBubbleInput",ir=l.forwardRef(({__scopeRadio:r,control:s,checked:t,bubbles:c=!0,...n},d)=>{const i=l.useRef(null),m=ge(i,d),g=ls(t),x=Yr(s);return l.useEffect(()=>{const j=i.current;if(!j)return;const w=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(w,"checked").set;if(g!==t&&f){const y=new Event("click",{bubbles:c});f.call(j,t),j.dispatchEvent(y)}},[g,t,c]),e.jsx(J.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:m,style:{...n.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ir.displayName=ws;function lr(r){return r?"checked":"unchecked"}var _s=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ye="RadioGroup",[Rs,_a]=Ie(ye,[er,ar]),cr=er(),dr=ar(),[Es,Ps]=Rs(ye),ur=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,name:c,defaultValue:n,value:d,required:i=!1,disabled:m=!1,orientation:g,dir:x,loop:j=!0,onValueChange:w,..._}=r,f=cr(t),y=is(x),[v,$]=Xe({prop:d,defaultProp:n??null,onChange:w,caller:ye});return e.jsx(Es,{scope:t,name:c,required:i,disabled:m,value:v,onValueChange:$,children:e.jsx(as,{asChild:!0,...f,orientation:g,dir:y,loop:j,children:e.jsx(J.div,{role:"radiogroup","aria-required":i,"aria-orientation":g,"data-disabled":m?"":void 0,dir:y,..._,ref:s})})})});ur.displayName=ye;var mr="RadioGroupItem",pr=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,disabled:c,...n}=r,d=Ps(mr,t),i=d.disabled||c,m=cr(t),g=dr(t),x=l.useRef(null),j=ge(s,x),w=d.value===n.value,_=l.useRef(!1);return l.useEffect(()=>{const f=v=>{_s.includes(v.key)&&(_.current=!0)},y=()=>_.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",y)}},[]),e.jsx(os,{asChild:!0,...m,focusable:!i,active:w,children:e.jsx(or,{disabled:i,required:d.required,checked:w,...g,...n,name:d.name,ref:j,onCheck:()=>d.onValueChange(n.value),onKeyDown:fe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:fe(n.onFocus,()=>{var f;_.current&&((f=x.current)==null||f.click())})})})});pr.displayName=mr;var Fs="RadioGroupIndicator",hr=l.forwardRef((r,s)=>{const{__scopeRadioGroup:t,...c}=r,n=dr(t);return e.jsx(nr,{...n,...c,ref:s})});hr.displayName=Fs;var fr=ur,xr=pr,Ss=hr;const Fe=l.forwardRef(({className:r,...s},t)=>e.jsx(fr,{className:ne("grid gap-2",r),...s,ref:t}));Fe.displayName=fr.displayName;const he=l.forwardRef(({className:r,...s},t)=>e.jsx(xr,{ref:t,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:e.jsx(Ss,{className:"flex items-center justify-center",children:e.jsx(ys,{className:"h-2.5 w-2.5 fill-current text-current"})})}));he.displayName=xr.displayName;const Is=r=>{let s=r.replace(/\D/g,"");return s.length>11&&(s=s.slice(0,11)),s.length>0&&(s=`(${s}`),s.length>3&&(s=`${s.slice(0,3)}) ${s.slice(3)}`),s.length>10&&(s=`${s.slice(0,10)}-${s.slice(10)}`),s},gr=Qe.forwardRef(({className:r,value:s,onChange:t,...c},n)=>{const d=i=>{const m=i.target.value,g=Is(m),x={...i,target:{...i.target,value:g}};t(x)};return e.jsx(O,{ref:n,type:"tel",className:ne("w-full",r),placeholder:"(99) 99999-9999",value:s,onChange:d,...c})});gr.displayName="PhoneInput";const ks=r=>{let s=r.replace(/\D/g,"");return s.length>14&&(s=s.slice(0,14)),s.length<=11?(s.length>9&&(s=`${s.slice(0,9)}-${s.slice(9)}`),s.length>6&&(s=`${s.slice(0,6)}.${s.slice(6)}`),s.length>3&&(s=`${s.slice(0,3)}.${s.slice(3)}`),s):(s.length>12&&(s=`${s.slice(0,12)}-${s.slice(12)}`),s.length>8&&(s=`${s.slice(0,8)}/${s.slice(8)}`),s.length>5&&(s=`${s.slice(0,5)}.${s.slice(5)}`),s.length>2&&(s=`${s.slice(0,2)}.${s.slice(2)}`),s)},yr=Qe.forwardRef(({className:r,value:s,onChange:t,...c},n)=>{const d=i=>{const m=i.target.value,g=ks(m),x={...i,target:{...i.target,value:g}};t(x)};return e.jsx(O,{ref:n,type:"tel",className:ne("w-full",r),placeholder:"CPF ou CNPJ",value:s,onChange:d,maxLength:18,...c})});yr.displayName="CpfCnpjInput";const Ls=(r,s,t,c)=>{const d=(t-r)*(Math.PI/180),i=(c-s)*(Math.PI/180),m=Math.sin(d/2)*Math.sin(d/2)+Math.cos(r*(Math.PI/180))*Math.cos(t*(Math.PI/180))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))},Vs=async r=>{const s=r.replace(/\s+/g," ").trim(),t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(s)}&limit=1`;try{console.log("LOG: geocodeAddress - URL da API:",t);const c=await fetch(t);if(!c.ok)return console.error("LOG: geocodeAddress - Resposta da API não OK. Status:",c.status),null;const n=await c.json();if(n&&Array.isArray(n)&&n.length>0){const d=n[0],i=parseFloat(d.lat),m=parseFloat(d.lon);if(Number.isFinite(i)&&Number.isFinite(m))return console.log("LOG: geocodeAddress - Sucesso. Coordenadas:",[i,m]),[i,m]}return console.warn("LOG: geocodeAddress - Falha. Nenhum resultado encontrado ou coordenadas inválidas para:",s),null}catch(c){return console.error("LOG: geocodeAddress - Erro durante a requisição:",c),null}},$s=(r,s,t)=>{const c=Ls(s[0],s[1],r[0],r[1]),n=t.find(d=>c<=d.max_distance_km);if(n){const d=n.delivery_fee||0,i=n.min_delivery_time_minutes||0,m=i+15;return{fee:parseFloat(d.toFixed(2)),minTime:i,maxTime:m}}return null};var je="Collapsible",[As,Ra]=Ie(je),[Ts,Le]=As(je),jr=l.forwardRef((r,s)=>{const{__scopeCollapsible:t,open:c,defaultOpen:n,disabled:d,onOpenChange:i,...m}=r,[g,x]=Xe({prop:c,defaultProp:n??!1,onChange:i,caller:je});return e.jsx(Ts,{scope:t,disabled:d,contentId:es(),open:g,onOpenToggle:l.useCallback(()=>x(j=>!j),[x]),children:e.jsx(J.div,{"data-state":$e(g),"data-disabled":d?"":void 0,...m,ref:s})})});jr.displayName=je;var vr="CollapsibleTrigger",br=l.forwardRef((r,s)=>{const{__scopeCollapsible:t,...c}=r,n=Le(vr,t);return e.jsx(J.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":$e(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...c,ref:s,onClick:fe(r.onClick,n.onOpenToggle)})});br.displayName=vr;var Ve="CollapsibleContent",Nr=l.forwardRef((r,s)=>{const{forceMount:t,...c}=r,n=Le(Ve,r.__scopeCollapsible);return e.jsx(We,{present:t||n.open,children:({present:d})=>e.jsx(Ms,{...c,ref:s,present:d})})});Nr.displayName=Ve;var Ms=l.forwardRef((r,s)=>{const{__scopeCollapsible:t,present:c,children:n,...d}=r,i=Le(Ve,t),[m,g]=l.useState(c),x=l.useRef(null),j=ge(s,x),w=l.useRef(0),_=w.current,f=l.useRef(0),y=f.current,v=i.open||m,$=l.useRef(v),L=l.useRef(void 0);return l.useEffect(()=>{const R=requestAnimationFrame(()=>$.current=!1);return()=>cancelAnimationFrame(R)},[]),rs(()=>{const R=x.current;if(R){L.current=L.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const U=R.getBoundingClientRect();w.current=U.height,f.current=U.width,$.current||(R.style.transitionDuration=L.current.transitionDuration,R.style.animationName=L.current.animationName),g(c)}},[i.open,c]),e.jsx(J.div,{"data-state":$e(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...d,ref:j,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...r.style},children:v&&n})});function $e(r){return r?"open":"closed"}var Os=jr;const zs=Os,qs=br,Bs=Nr,Ds=()=>{const{items:r,subtotal:s,deliveryFee:t,total:c,totalItems:n}=Ye(),[d,i]=l.useState(!1);return n===0?null:e.jsxs(zs,{open:d,onOpenChange:i,className:"lg:hidden sticky top-0 z-40 bg-card border-b shadow-md",children:[e.jsx(qs,{asChild:!0,children:e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-5 w-5 text-primary"}),e.jsxs("span",{className:"font-semibold text-lg",children:["Seu Pedido (",n," ",n===1?"item":"itens",")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)}),d?e.jsx(ts,{className:"h-5 w-5"}):e.jsx(ns,{className:"h-5 w-5"})]})]})}),e.jsxs(Bs,{className:"p-4 pt-0",children:[e.jsx(te,{className:"mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:r.map(m=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[m.quantity,"x ",m.name,m.notes&&e.jsxs("span",{className:"block text-xs italic",children:["(",m.notes,")"]})]}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m.price*m.quantity)})]},m.id))}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa de Entrega:"}),e.jsx("span",{className:"font-medium text-primary",children:t>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t):"Grátis"})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)})]})]})]})]})},Cr=r=>r.replace(/\D/g,""),wr=r=>r.replace(/\D/g,""),xe=r=>r.replace(/\D/g,""),Gs=Zr({name:V().min(1,"Nome é obrigatório."),phone:V().min(1,"Telefone é obrigatório.").transform(Cr).refine(r=>r.length>=10,{message:"O telefone deve ter pelo menos 10 dígitos (incluindo DDD)."}),email:V().email("Email inválido.").optional().or(Jr("")),delivery_option:Hr(["delivery","pickup"],{required_error:"Selecione uma opção de entrega."}),street:V().optional().default(""),number:V().optional().default(""),complement:V().optional().default(""),neighborhood:V().optional().default(""),city:V().optional().default(""),zip_code:V().optional().default("").transform(wr).refine(r=>r.length===8||r.length===0,{message:"CEP inválido. Deve conter 8 dígitos."}),latitude:Re(r=>typeof r=="string"?parseFloat(r):r,Ze.number().optional().nullable()),longitude:Re(r=>typeof r=="string"?parseFloat(r):r,Ze.number().optional().nullable()),payment_method_id:V().min(1,"Selecione uma forma de pagamento."),notes:V().optional(),cpf_cnpj:V().optional().default("").transform(xe).refine(r=>r.length===0||r.length===11||r.length===14,{message:"CPF deve ter 11 dígitos ou CNPJ 14 dígitos."}),change_for:Re(r=>{if(r==null||r==="")return null;const s=String(r).replace(",","."),t=parseFloat(s);return isNaN(t)?s:t},Qr({invalid_type_error:"O troco deve ser um número."}).optional().nullable())}).superRefine((r,s)=>{if(r.delivery_option==="delivery"&&(r.street.trim()===""&&s.addIssue({code:K.custom,message:"Rua é obrigatória.",path:["street"]}),r.number.trim()===""&&s.addIssue({code:K.custom,message:"Número é obrigatório.",path:["number"]}),r.neighborhood.trim()===""&&s.addIssue({code:K.custom,message:"Bairro é obrigatório.",path:["neighborhood"]}),r.city.trim()===""&&s.addIssue({code:K.custom,message:"Cidade é obrigatória.",path:["city"]}),r.zip_code.length!==8&&s.addIssue({code:K.custom,message:"CEP é obrigatório e deve ter 8 dígitos.",path:["zip_code"]}),(r.latitude===null||r.longitude===null)&&s.addIssue({code:K.custom,message:"A localização deve ser salva no mapa para calcular a taxa de entrega.",path:["latitude"]})),r.payment_method_id==="Dinheiro"&&r.change_for!==null&&r.change_for!==void 0&&r.change_for<=0&&s.addIssue({code:K.custom,message:"O valor do troco deve ser positivo.",path:["change_for"]}),r.payment_method_id==="Pagamento online: Pix/Cartão"){const n=xe(r.cpf_cnpj||"");n.length!==11&&n.length!==14&&s.addIssue({code:K.custom,message:"CPF/CNPJ é obrigatório para pagamento online.",path:["cpf_cnpj"]})}}),Ks=()=>{const r=window.location.origin,t=window.location.pathname.split("/")[1];return t?`${r}/${t}`:r},Us=async()=>{const{data:r,error:s}=await z.from("restaurants").select("id, name, address, phone, email, street, number, neighborhood, city, zip_code, latitude, longitude, delivery_enabled").eq("is_active",!0).limit(1).single();if(s)throw new Error(`Erro ao buscar restaurante: ${s.message}`);if(!r)throw new Error("Nenhum restaurante ativo encontrado.");return r},Zs=async r=>{const{data:s,error:t}=await z.from("restaurants").select("delivery_enabled").eq("id",r).single();if(t)throw new Error(`Erro ao buscar status de entrega: ${t.message}`);return s.delivery_enabled??!0},Js=async r=>{const{data:s,error:t}=await z.from("payment_methods").select("*").eq("restaurant_id",r).eq("is_active",!0).order("name",{ascending:!0});if(t)throw new Error(`Erro ao buscar métodos de pagamento: ${t.message}`);return s},Hs=async r=>{const{data:s,error:t}=await z.from("delivery_zones").select("*").eq("restaurant_id",r).eq("is_active",!0).order("max_distance_km",{ascending:!0});if(t)throw new Error(`Erro ao buscar zonas de entrega: ${t.message}`);return s},Qs=r=>{switch(r){case"DollarSign":return gs;case"Smartphone":return fs;case"CreditCard":return sr;case"Package":return xs;default:return rr}},Ws=({subtotal:r,deliveryFee:s,total:t,items:c})=>e.jsxs(de,{className:"sticky top-4",children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"Seu Pedido"})}),e.jsxs(pe,{className:"space-y-3",children:[e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:c.map(n=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n.quantity,"x ",n.name,n.notes&&e.jsxs("span",{className:"block text-xs italic",children:["(",n.notes,")"]})]}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price*n.quantity)})]},n.id))}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa de Entrega:"}),e.jsx("span",{className:"font-medium text-primary",children:s>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s):"Grátis"})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)})]})]})]}),Xs=({markerPosition:r,onLocationChange:s,updateAddressFields:t,restaurant:c,mapKey:n})=>{const d=r[0],i=r[1];return e.jsxs("div",{className:"space-y-2 relative",children:[e.jsx("div",{className:"relative",children:e.jsx(ms,{center:r,markerPosition:r,onLocationChange:s,isInteractive:!0},n)}),e.jsxs("div",{className:"text-xs text-muted-foreground flex justify-between",children:[e.jsxs("span",{children:["Latitude: ",d==null?void 0:d.toFixed(6)]}),e.jsxs("span",{children:["Longitude: ",i==null?void 0:i.toFixed(6)]})]}),e.jsxs(Y,{variant:"default",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx(ee,{children:"Ajuste a Localização"}),e.jsx(re,{children:"Arraste o pino azul para o local exato da entrega para garantir a precisão da taxa."})]})]})},Ea=()=>{const r=Gr(),s=Br(),t=Ye(),{items:c,subtotal:n,deliveryFee:d,total:i,setDeliveryFee:m,clearCart:g}=t,[x]=Kr(),[j,w]=l.useState(!1),[_,f]=l.useState(!1),[y,v]=l.useState(null),[$,L]=l.useState(null),R=x.get("status"),U=x.get("external_reference"),Ae=x.has("collection_id")||x.has("external_reference"),[ie,Te]=l.useState(!!U);l.useEffect(()=>{if(U)if(R==="approved"||R==="failure"||R==="pending"){r(`/order-success/${U}?status=${R}`,{replace:!0});return}else Ae&&(N.info("Pagamento cancelado.",{description:"Você pode tentar novamente ou escolher outro método de pagamento."}),window.history.replaceState({},document.title,window.location.pathname+window.location.hash.split("?")[0]),Te(!1));else Te(!1)},[U,R,Ae,r]);const{data:p,isLoading:_r,isError:Rr,error:Er}=ce({queryKey:["checkoutRestaurantData"],queryFn:Us}),{data:D,isLoading:ve}=ce({queryKey:["deliveryStatus",p==null?void 0:p.id],queryFn:()=>Zs(p.id),enabled:!!(p!=null&&p.id)}),{data:H=[],isLoading:Pr}=ce({queryKey:["checkoutPaymentMethods",p==null?void 0:p.id],queryFn:()=>Js(p.id),enabled:!!(p!=null&&p.id)}),{data:Me=[],isLoading:Fr}=ce({queryKey:["checkoutDeliveryZones",p==null?void 0:p.id],queryFn:()=>Hs(p.id),enabled:!!(p!=null&&p.id)}),Sr=_r||ve||Pr||Fr,Ir=Rr,Oe=Er,o=Wr({resolver:Xr(Gs),defaultValues:{name:"",phone:"",email:"",delivery_option:"delivery",street:"",number:"",complement:"",neighborhood:"",city:"",zip_code:"",payment_method_id:"",notes:"",cpf_cnpj:"",change_for:null,latitude:null,longitude:null},mode:"onBlur"}),q=o.watch("delivery_option"),be=o.watch("payment_method_id"),Q=H.find(a=>a.id===be),Z=(Q==null?void 0:Q.name)==="Pagamento online: Pix/Cartão",se=(Q==null?void 0:Q.name)==="Dinheiro",F=o.watch("latitude"),S=o.watch("longitude");o.watch(["street","number","neighborhood","city","zip_code"]);const G=q==="delivery",kr=l.useMemo(()=>JSON.stringify({deliveryOption:q,deliveryEnabled:D,lat:F,lng:S}),[q,D,F,S]),Lr=l.useMemo(()=>typeof F=="number"&&typeof S=="number"&&!isNaN(F)&&!isNaN(S)?[F,S]:p!=null&&p.latitude&&(p!=null&&p.longitude)?[p.latitude,p.longitude]:[-23.55052,-46.633308],[F,S,p]),Vr=l.useMemo(()=>F===null||S===null?`map-${q}-null`:`map-${q}-${F.toFixed(6)}-${S.toFixed(6)}`,[G,q,F,S]),Ne=l.useCallback(a=>{const u=a.road||a.logradouro||"",h=a.house_number||"",b=a.suburb||a.bairro||"",E=a.city||a.localidade||"",A=a.postcode||a.cep||"";o.setValue("street",u,{shouldValidate:!0}),o.setValue("number",h||"",{shouldValidate:!0}),o.setValue("complement",a.suburb||"",{shouldValidate:!0}),o.setValue("neighborhood",b,{shouldValidate:!0}),o.setValue("city",E,{shouldValidate:!0}),o.setValue("zip_code",A,{shouldValidate:!0})},[o]),$r=l.useCallback(async(a,u)=>{o.setValue("latitude",a,{shouldValidate:!0}),o.setValue("longitude",u,{shouldValidate:!0});const h=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${u}&addressdetails=1`,b=await fetch(h);if(b.ok){const E=await b.json();E.address&&(Ne(E.address),N.info("Endereço preenchido a partir do mapa."))}},[o,Ne]),Ar=l.useCallback(()=>{o.setValue("street","",{shouldValidate:!0}),o.setValue("number","",{shouldValidate:!0}),o.setValue("complement","",{shouldValidate:!0}),o.setValue("neighborhood","",{shouldValidate:!0}),o.setValue("city","",{shouldValidate:!0}),o.setValue("zip_code","",{shouldValidate:!0}),o.setValue("latitude",null,{shouldValidate:!0}),o.setValue("longitude",null,{shouldValidate:!0}),m(0),v(null),L(null),N.info("Endereço limpo."),localStorage.removeItem("checkoutFormData")},[o,m]),Ce=l.useCallback(a=>{try{const u={name:a.name,phone:a.phone,email:a.email,delivery_option:a.delivery_option,street:a.street,number:a.number,complement:a.complement,neighborhood:a.neighborhood,city:a.city,zip_code:a.zip_code,latitude:a.latitude,longitude:a.longitude};localStorage.setItem("checkoutFormData",JSON.stringify(u))}catch(u){console.error("Failed to save form data to local storage",u)}},[]),ze=l.useCallback(()=>{try{const a=localStorage.getItem("checkoutFormData");if(a){const u=JSON.parse(a);o.reset({...o.getValues(),...u,delivery_option:u.delivery_option||"delivery"})}}catch(a){console.error("Failed to load form data from local storage",a)}},[o]);l.useEffect(()=>{ze()},[ze]),l.useEffect(()=>{const a=o.watch(u=>{Ce(u)});return()=>a.unsubscribe()},[o,Ce]);const Tr=async()=>{const a=o.getValues(),[u,h,b,E,A]=[a.street,a.number,a.neighborhood,a.city,a.zip_code],le=wr(A);if(!(u&&h&&b&&E&&le.length===8)){console.log("LOG: Validação de endereço incompleto falhou."),N.error("Preencha o endereço completo (Rua, Número, Bairro, Cidade, CEP) antes de salvar.");return}console.log("LOG: Iniciando geocodificação para:",`${u}, ${h}, ${b}, ${E}, ${A}`),f(!0);const _e=N.loading("Buscando coordenadas e salvando endereço...");try{const W=`${u}, ${h}, ${b}, ${E}, ${A}`,T=await Vs(W);T&&Number.isFinite(T[0])&&Number.isFinite(T[1])?(console.log("LOG: Geocodificação bem-sucedida. Coordenadas:",T),o.setValue("latitude",T[0],{shouldValidate:!0}),o.setValue("longitude",T[1],{shouldValidate:!0}),o.trigger("latitude"),Ce(o.getValues()),N.success("Endereço e localização salvos com sucesso!")):(console.log("LOG: Geocodificação falhou ou retornou coordenadas inválidas."),o.setValue("latitude",null,{shouldValidate:!0}),o.setValue("longitude",null,{shouldValidate:!0}),N.error("Endereço não encontrado. Por favor, verifique o endereço digitado ou ajuste o pino no mapa manualmente."))}catch(W){console.error("LOG: Erro capturado durante a geocodificação:",W),N.error("Erro ao buscar coordenadas.")}finally{f(!1),N.dismiss(_e)}};l.useEffect(()=>{se||o.setValue("change_for",null,{shouldValidate:!0})},[se,o]),l.useEffect(()=>{q==="pickup"&&(m(0),v(null),L(null),o.setValue("latitude",null),o.setValue("longitude",null))},[q,G,o,m,F,S]),l.useEffect(()=>{H.length>0&&!be&&o.setValue("payment_method_id",H[0].id)},[H,be,o]),l.useEffect(()=>{Z?o.trigger("cpf_cnpj"):o.clearErrors("cpf_cnpj")},[Z,o]),l.useEffect(()=>{const a=async()=>{if(q==="pickup"||!(p!=null&&p.latitude)||!(p!=null&&p.longitude)){m(0),v(null),L(null);return}if(ve)return;if(D===!1){m(0),v(null),L(null),f(!1);return}f(!0),v(null);let h=null;if(F&&S)h=[F,S];else{m(0),L(null),f(!1);return}if(h){const b=[p.latitude,p.longitude],E=$s(h,b,Me);E?(m(E.fee),v(null),L({minTime:E.minTime,maxTime:E.maxTime})):(m(0),v("Seu endereço está fora da nossa área de entrega."),L(null))}f(!1)},u=setTimeout(()=>{a()},500);return()=>clearTimeout(u)},[kr,p,Me,o,m,G,F,S,D,ve]),l.useEffect(()=>{if(c.length===0&&!j&&!ie){const a=setTimeout(()=>{N.info("Seu carrinho está vazio. Adicione itens para continuar."),r("/menu")},0);return()=>clearTimeout(a)}},[c.length,r,j,ie]);const qe=Dr({mutationFn:async a=>{if(!p)throw new Error("Dados do restaurante indisponíveis.");if(a.delivery_option==="delivery"&&y)throw new Error(y);const u=[a.street,a.number,a.complement?`(${a.complement})`:null,a.neighborhood,a.city,a.zip_code].filter(Boolean).join(", "),h=a.delivery_option==="delivery"?u:"Retirada no Local";let b;const E=Cr(a.phone),A=xe(a.cpf_cnpj||""),{data:le}=await z.from("customers").select("id").eq("phone",E).limit(1).single();if(le)b=le.id,A&&await z.from("customers").update({cpf_cnpj:A}).eq("id",b);else{const{data:M,error:ae}=await z.from("customers").insert({name:a.name,phone:E,email:a.email||null,address:h,latitude:a.latitude,longitude:a.longitude,cpf_cnpj:A||null}).select("id").single();if(ae)throw new Error(`Erro ao criar cliente: ${ae.message}`);b=M.id}const Ge=Z?"pending_payment":"pending",{data:_e,error:W}=await z.from("orders").insert({restaurant_id:p.id,customer_id:b,status:Ge,total_amount:i,delivery_fee:d,notes:a.notes,delivery_address:h,payment_method_id:a.payment_method_id,change_for:se?a.change_for:null}).select("id").single();if(W)throw new Error(`Erro ao criar pedido: ${W.message}`);const T=_e.id,qr=c.map(M=>({order_id:T,product_id:M.product_id,quantity:M.quantity,unit_price:M.price,subtotal:M.price*M.quantity,notes:M.notes})),{error:Ke}=await z.from("order_items").insert(qr);if(Ke)throw new Error(`Erro ao adicionar itens do pedido: ${Ke.message}`);if(Z){g(),w(!0),N.info("Redirecionando para o pagamento online...");const M=Ks(),ae={orderId:T,items:c,totalAmount:parseFloat(i.toFixed(2)),restaurantName:p.name,clientUrl:M,customerEmail:a.email||"cliente@pedido123.com",customerCpfCnpj:A};console.log("Payload enviado para create-payment-preference:",ae);try{const{data:B,error:Ue}=await z.functions.invoke("create-payment-preference",{body:ae});if(Ue)throw new Error(Ue.message);if(B&&B.error)throw new Error(`Mercado Pago Error: ${B.error}`);if(B&&B.init_point){window.location.href=B.init_point;return}else throw new Error("Resposta de pagamento inválida: init_point não encontrado.")}catch(B){throw console.error("Erro ao criar preferência de pagamento:",B),new Error(`Falha ao processar pagamento online: ${B.message}`)}}return T},onSuccess:a=>{Z||(N.success(`Pedido #${a.slice(-4)} realizado com sucesso!`),s.invalidateQueries({queryKey:["orders"]}),localStorage.removeItem("checkoutFormData"),r(`/order-success/${a}`))},onError:a=>{let u="Ocorreu um erro ao finalizar seu pedido. Por favor, tente novamente.";const h=a.message||"";h.includes("Mercado Pago Error:")?(u=h.split("Mercado Pago Error:")[1].trim(),u.includes("access token")&&(u="O Access Token do Mercado Pago está incorreto ou ausente. Por favor, verifique as configurações do restaurante.")):h.toLowerCase().includes("access token")||h.toLowerCase().includes("credentials")?u="Ocorreu um problema com a configuração de pagamento do restaurante. Por favor, entre em contato com o estabelecimento.":h.toLowerCase().includes("fora da nossa área de entrega")?u="Seu endereço está fora da nossa área de entrega.":h.toLowerCase().includes("inconsistência no valor total")?u="Erro de cálculo no pedido. Por favor, tente limpar o carrinho e refazer o pedido.":h.toLowerCase().includes("falha ao processar pagamento online")&&(u=h.split("Falha ao processar pagamento online:")[1]||"Erro ao processar pagamento online. Por favor, tente novamente."),N.error("Falha ao processar o pagamento",{description:u,duration:1e4}),w(!1)}}),Mr=async a=>{if(a.delivery_option==="delivery"&&(a.latitude===null||a.longitude===null)){o.setError("latitude",{type:"manual",message:"A localização deve ser salva no mapa para calcular a taxa de entrega."}),N.error('Por favor, clique em "Salvar Endereço" para confirmar a localização no mapa.');return}if(Z){const u=a.cpf_cnpj||"",h=xe(u);if(h.length!==11&&h.length!==14){o.setError("cpf_cnpj",{type:"manual",message:"CPF/CNPJ é obrigatório para pagamento online."}),N.error("Por favor, preencha o CPF/CNPJ corretamente.");return}}if(se){const u=a.change_for;if(u!=null&&u<i){N.error(`O valor do troco (R$ ${u.toFixed(2).replace(".",",")}) deve ser maior ou igual ao total do pedido (R$ ${i.toFixed(2).replace(".",",")}).`);return}}qe.mutate(a)},Or=a=>{Object.keys(a).length>0&&N.error("Por favor, preencha todos os campos obrigatórios e corrija os erros.")};if(c.length===0&&!j&&!ie)return e.jsx("div",{className:"flex h-screen items-center justify-center",children:"Redirecionando..."});if(Sr||ie)return e.jsx(ss,{});if(Ir)return e.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:e.jsxs(Y,{variant:"destructive",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(ee,{children:"Erro de Conexão"}),e.jsx(re,{children:Oe instanceof Error?Oe.message:"Não foi possível carregar os dados."})]})});const we=qe.isPending||j||_,zr=!G||!y&&d>=0,Be=!G||F!==null&&S!==null,De=!we&&zr&&Be;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 max-w-6xl flex items-center",children:[e.jsx(Ur,{to:"/menu",children:e.jsx(oe,{variant:"ghost",size:"icon",className:"mr-4",children:e.jsx(hs,{className:"h-5 w-5"})})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Finalizar Pedido"})]})}),e.jsx("div",{children:e.jsx(Ds,{})}),e.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-6xl pb-24 lg:pb-8",children:[" ",e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(ds,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(Mr,Or),className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"1. Seus Dados"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:o.control,name:"name",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Nome Completo *"}),e.jsx(O,{placeholder:"Seu nome",...a}),e.jsx(k,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(I,{control:o.control,name:"phone",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Telefone *"}),e.jsx(gr,{...a}),e.jsx(k,{})]})}),e.jsx(I,{control:o.control,name:"email",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Email (Opcional)"}),e.jsx(O,{placeholder:"seu@email.com",...a}),e.jsx(k,{})]})})]})]})]}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"2. Entrega"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:o.control,name:"delivery_option",render:({field:a})=>e.jsxs(C,{className:"space-y-3",children:[e.jsx(X,{children:e.jsxs(Fe,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-col space-y-1",children:[e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:"delivery"})}),e.jsx(He,{className:"h-5 w-5 text-primary"}),e.jsxs(P,{className:ne("font-normal flex-1 cursor-pointer"),children:["Delivery",D===!1&&e.jsx("span",{className:"block text-xs text-muted-foreground",children:" (Taxa de entrega desativada, entrega gratuita)"})]})]}),e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:"pickup"})}),e.jsx(rr,{className:"h-5 w-5 text-primary"}),e.jsx(P,{className:"font-normal flex-1 cursor-pointer",children:"Retirada no Local"})]})]})}),e.jsx(k,{})]})}),G&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"})," Endereço de Entrega *"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(oe,{type:"button",variant:"outline",size:"sm",onClick:a=>{a.preventDefault(),Tr()},disabled:_,children:[e.jsx(vs,{className:"h-4 w-4 mr-2"})," Salvar Endereço"]}),e.jsxs(oe,{type:"button",variant:"outline",size:"sm",onClick:Ar,children:[e.jsx(js,{className:"h-4 w-4 mr-2"})," Limpar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(I,{control:o.control,name:"street",render:({field:a})=>e.jsxs(C,{className:"col-span-2",children:[e.jsx(P,{children:"Rua *"}),e.jsx(O,{...a}),e.jsx(k,{})]})}),e.jsx(I,{control:o.control,name:"number",render:({field:a})=>e.jsxs(C,{className:"col-span-1",children:[e.jsx(P,{children:"Número *"}),e.jsx(O,{...a}),e.jsx(k,{})]})})]}),e.jsx(I,{control:o.control,name:"complement",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Complemento (Opcional)"}),e.jsx(O,{placeholder:"Apto, Bloco, Casa, etc.",...a,disabled:!1}),e.jsx(k,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(I,{control:o.control,name:"neighborhood",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Bairro *"}),e.jsx(O,{...a}),e.jsx(k,{})]})}),e.jsx(I,{control:o.control,name:"city",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Cidade *"}),e.jsx(O,{...a}),e.jsx(k,{})]})})]}),e.jsx(I,{control:o.control,name:"zip_code",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"CEP *"}),e.jsx(us,{...a}),e.jsx(k,{})]})}),G&&e.jsx("div",{children:e.jsx(Xs,{mapKey:Vr,markerPosition:Lr,onLocationChange:$r,updateAddressFields:Ne,restaurant:p})}),_&&D!==!1&&e.jsxs(Y,{children:[e.jsx(Ee,{className:"h-4 w-4 animate-spin"}),e.jsx(ee,{children:"Calculando Taxa..."}),e.jsx(re,{children:"Aguarde enquanto calculamos a taxa de entrega para o seu endereço."})]}),y&&D!==!1&&e.jsxs(Y,{variant:"destructive",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(ee,{children:"Erro de Entrega"}),e.jsx(re,{children:y})]}),d>0&&!_&&D!==!1&&e.jsxs(Y,{className:"mt-4",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx(ee,{children:"Taxa de Entrega Aplicada"}),e.jsxs(re,{children:["Taxa: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d)]})]}),G&&!Be&&e.jsxs(Y,{variant:"destructive",children:[e.jsx(Pe,{className:"h-4 w-4"}),e.jsx(ee,{children:"Localização Obrigatória"}),e.jsx(re,{children:'Clique em "Salvar Endereço" para confirmar a localização no mapa e calcular a taxa de entrega.'})]})]})]})]}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"3. Pagamento"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:o.control,name:"payment_method_id",render:({field:a})=>e.jsxs(C,{className:"space-y-3",children:[e.jsx(X,{children:e.jsx(Fe,{onValueChange:u=>{a.onChange(u);const h=H.find(b=>b.id===u);(h==null?void 0:h.name)!=="Dinheiro"&&o.setValue("change_for",null,{shouldValidate:!0}),(h==null?void 0:h.name)==="Pagamento online: Pix/Cartão"?o.trigger("cpf_cnpj"):o.clearErrors("cpf_cnpj")},defaultValue:a.value,className:"flex flex-col space-y-2",children:H.map(u=>{const h=Qs(u.icon||"Store");return e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:u.id})}),e.jsx(h,{className:"h-5 w-5 text-primary"}),e.jsxs(P,{className:"font-normal flex-1 cursor-pointer",children:[u.name,e.jsx("span",{className:"block text-xs text-muted-foreground",children:u.description})]})]},u.id)})})}),e.jsx(k,{})]})}),Z&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(sr,{className:"h-4 w-4"})," Detalhes Adicionais"]}),e.jsx(I,{control:o.control,name:"cpf_cnpj",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"CPF/CNPJ * (obrigatório para pagamento online)"}),e.jsx(X,{children:e.jsx(yr,{...a})}),e.jsx(k,{})]})})]}),se&&e.jsx(I,{control:o.control,name:"change_for",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Precisa de troco para quanto? (R$)"}),e.jsx(O,{type:"number",step:"0.01",placeholder:new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2}).format(i),...a,value:a.value===null||a.value===void 0?"":String(a.value),onChange:u=>{const h=u.target.value;a.onChange(h===""?null:h)}}),e.jsx(k,{})]})}),e.jsx(I,{control:o.control,name:"notes",render:({field:a})=>e.jsxs(C,{children:[e.jsx(P,{children:"Observações do Pedido (Opcional)"}),e.jsx(cs,{placeholder:"Ex: Tocar a campainha duas vezes...",...a,rows:2}),e.jsx(k,{})]})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card p-4 border-t shadow-2xl lg:hidden z-50",children:e.jsx(oe,{type:"submit",className:"w-full h-12 text-lg",disabled:!De,children:we?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):`Finalizar Pedido - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)}`})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(oe,{type:"submit",className:"w-full h-12 text-lg",disabled:!De,children:we?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):`Finalizar Pedido - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)}`})})]})})}),e.jsx("div",{className:"lg:col-span-1 hidden lg:block",children:e.jsx(Ws,{...t})})]})]})]})};export{Ea as default};
