import{j as e,b as Dr,u as ce,c as zr}from"./tanstack-D8i8yNxB.js";import{r as i,R as Qe,u as Gr,h as Kr,L as Ur}from"./vendor-Dl0Wzy4_.js";import{o as Zr,s as L,l as Jr,e as Hr,p as Ee,c as Ue,n as Qr,Z as K,u as Wr,t as Xr}from"./types-BCrSgEF3.js";import{s as q}from"./client-BmrnLCXS.js";import{c as Fe,f as Ie,g as xe,P as J,i as fe,h as We,l as Yr,m as Xe,b as ne,n as eo,k as ro,a as Ye,u as N,v as oo,L as Pe}from"./index-Dm_HX_7U.js";import{B as re}from"./button-CBxl_yC-.js";import{C as de,b as ue,c as me,a as pe}from"./card-DFXtBrDT.js";import{I as O}from"./label-DwCn10ac.js";import{c as er,R as so,I as ao,a as to,C as no}from"./index-D93AJ1Zt.js";import{u as io}from"./index-BB_oiUC3.js";import{u as lo}from"./index-PuW-_iwo.js";import{S as te}from"./separator-Cx6uY2N_.js";import{T as co}from"./textarea-okeeePV4.js";import{A as oe,a as se,b as ae}from"./alert-48Mmc7eh.js";import{F as uo,b as I,c as C,a as P,e as k,d as X}from"./form-ousHdv8x.js";import{Z as mo,M as po}from"./MapLocationSection-BngjA-_Y.js";import{S as ho}from"./shopping-cart-CBadE8Ou.js";import{T as Ze}from"./terminal-IvGagW2B.js";import{A as fo}from"./arrow-left-C7Xs7b9c.js";import{T as Je}from"./truck-DG062XiJ.js";import{S as rr,a as go}from"./store-CRINd37a.js";import{M as He}from"./map-pin-v2n1biVK.js";import{C as or}from"./credit-card-Dg4ZRkqc.js";import{P as xo}from"./package-DZa7TLSL.js";import{D as yo}from"./dollar-sign-CnMh5_80.js";import"./supabase-A1WgB1xz.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Fe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var ke="Radio",[No,sr]=Ie(ke),[Co,wo]=No(ke),ar=i.forwardRef((s,o)=>{const{__scopeRadio:t,name:c,checked:n=!1,required:m,disabled:l,value:u="on",onCheck:x,form:g,...j}=s,[w,_]=i.useState(null),f=xe(o,$=>_($)),y=i.useRef(!1),v=w?g||!!w.closest("form"):!0;return e.jsxs(Co,{scope:t,checked:n,disabled:l,children:[e.jsx(J.button,{type:"button",role:"radio","aria-checked":n,"data-state":lr(n),"data-disabled":l?"":void 0,disabled:l,value:u,...j,ref:f,onClick:fe(s.onClick,$=>{n||x==null||x(),v&&(y.current=$.isPropagationStopped(),y.current||$.stopPropagation())})}),v&&e.jsx(ir,{control:w,bubbles:!y.current,name:c,value:u,checked:n,required:m,disabled:l,form:g,style:{transform:"translateX(-100%)"}})]})});ar.displayName=ke;var tr="RadioIndicator",nr=i.forwardRef((s,o)=>{const{__scopeRadio:t,forceMount:c,...n}=s,m=wo(tr,t);return e.jsx(We,{present:c||m.checked,children:e.jsx(J.span,{"data-state":lr(m.checked),"data-disabled":m.disabled?"":void 0,...n,ref:o})})});nr.displayName=tr;var _o="RadioBubbleInput",ir=i.forwardRef(({__scopeRadio:s,control:o,checked:t,bubbles:c=!0,...n},m)=>{const l=i.useRef(null),u=xe(l,m),x=lo(t),g=Yr(o);return i.useEffect(()=>{const j=l.current;if(!j)return;const w=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(w,"checked").set;if(x!==t&&f){const y=new Event("click",{bubbles:c});f.call(j,t),j.dispatchEvent(y)}},[x,t,c]),e.jsx(J.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:u,style:{...n.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ir.displayName=_o;function lr(s){return s?"checked":"unchecked"}var Ro=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ye="RadioGroup",[Eo,_s]=Ie(ye,[er,sr]),cr=er(),dr=sr(),[Po,So]=Eo(ye),ur=i.forwardRef((s,o)=>{const{__scopeRadioGroup:t,name:c,defaultValue:n,value:m,required:l=!1,disabled:u=!1,orientation:x,dir:g,loop:j=!0,onValueChange:w,..._}=s,f=cr(t),y=io(g),[v,$]=Xe({prop:m,defaultProp:n??null,onChange:w,caller:ye});return e.jsx(Po,{scope:t,name:c,required:l,disabled:u,value:v,onValueChange:$,children:e.jsx(so,{asChild:!0,...f,orientation:x,dir:y,loop:j,children:e.jsx(J.div,{role:"radiogroup","aria-required":l,"aria-orientation":x,"data-disabled":u?"":void 0,dir:y,..._,ref:o})})})});ur.displayName=ye;var mr="RadioGroupItem",pr=i.forwardRef((s,o)=>{const{__scopeRadioGroup:t,disabled:c,...n}=s,m=So(mr,t),l=m.disabled||c,u=cr(t),x=dr(t),g=i.useRef(null),j=xe(o,g),w=m.value===n.value,_=i.useRef(!1);return i.useEffect(()=>{const f=v=>{Ro.includes(v.key)&&(_.current=!0)},y=()=>_.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",y)}},[]),e.jsx(ao,{asChild:!0,...u,focusable:!l,active:w,children:e.jsx(ar,{disabled:l,required:m.required,checked:w,...x,...n,name:m.name,ref:j,onCheck:()=>m.onValueChange(n.value),onKeyDown:fe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:fe(n.onFocus,()=>{var f;_.current&&((f=g.current)==null||f.click())})})})});pr.displayName=mr;var Fo="RadioGroupIndicator",hr=i.forwardRef((s,o)=>{const{__scopeRadioGroup:t,...c}=s,n=dr(t);return e.jsx(nr,{...n,...c,ref:o})});hr.displayName=Fo;var fr=ur,gr=pr,Io=hr;const Se=i.forwardRef(({className:s,...o},t)=>e.jsx(fr,{className:ne("grid gap-2",s),...o,ref:t}));Se.displayName=fr.displayName;const he=i.forwardRef(({className:s,...o},t)=>e.jsx(gr,{ref:t,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...o,children:e.jsx(Io,{className:"flex items-center justify-center",children:e.jsx(jo,{className:"h-2.5 w-2.5 fill-current text-current"})})}));he.displayName=gr.displayName;const ko=s=>{let o=s.replace(/\D/g,"");return o.length>11&&(o=o.slice(0,11)),o.length>0&&(o=`(${o}`),o.length>3&&(o=`${o.slice(0,3)}) ${o.slice(3)}`),o.length>10&&(o=`${o.slice(0,10)}-${o.slice(10)}`),o},xr=Qe.forwardRef(({className:s,value:o,onChange:t,...c},n)=>{const m=l=>{const u=l.target.value,x=ko(u),g={...l,target:{...l.target,value:x}};t(g)};return e.jsx(O,{ref:n,type:"tel",className:ne("w-full",s),placeholder:"(99) 99999-9999",value:o,onChange:m,...c})});xr.displayName="PhoneInput";const Vo=s=>{let o=s.replace(/\D/g,"");return o.length>14&&(o=o.slice(0,14)),o.length<=11?(o.length>9&&(o=`${o.slice(0,9)}-${o.slice(9)}`),o.length>6&&(o=`${o.slice(0,6)}.${o.slice(6)}`),o.length>3&&(o=`${o.slice(0,3)}.${o.slice(3)}`),o):(o.length>12&&(o=`${o.slice(0,12)}-${o.slice(12)}`),o.length>8&&(o=`${o.slice(0,8)}/${o.slice(8)}`),o.length>5&&(o=`${o.slice(0,5)}.${o.slice(5)}`),o.length>2&&(o=`${o.slice(0,2)}.${o.slice(2)}`),o)},yr=Qe.forwardRef(({className:s,value:o,onChange:t,...c},n)=>{const m=l=>{const u=l.target.value,x=Vo(u),g={...l,target:{...l.target,value:x}};t(g)};return e.jsx(O,{ref:n,type:"tel",className:ne("w-full",s),placeholder:"CPF ou CNPJ",value:o,onChange:m,maxLength:18,...c})});yr.displayName="CpfCnpjInput";const Lo=(s,o,t,c)=>{const m=(t-s)*(Math.PI/180),l=(c-o)*(Math.PI/180),u=Math.sin(m/2)*Math.sin(m/2)+Math.cos(s*(Math.PI/180))*Math.cos(t*(Math.PI/180))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},$o=async s=>{const o=s.replace(/\s+/g," ").trim(),t=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(o)}&limit=1`;try{console.log("LOG: geocodeAddress - URL da API:",t);const c=await fetch(t);if(!c.ok)return console.error("LOG: geocodeAddress - Resposta da API não OK. Status:",c.status),null;const n=await c.json();if(n&&Array.isArray(n)&&n.length>0){const m=n[0],l=parseFloat(m.lat),u=parseFloat(m.lon);if(Number.isFinite(l)&&Number.isFinite(u))return console.log("LOG: geocodeAddress - Sucesso. Coordenadas:",[l,u]),[l,u]}return console.warn("LOG: geocodeAddress - Falha. Nenhum resultado encontrado ou coordenadas inválidas para:",o),null}catch(c){return console.error("LOG: geocodeAddress - Erro durante a requisição:",c),null}},Ao=(s,o,t)=>{const c=Lo(o[0],o[1],s[0],s[1]),n=t.find(m=>c<=m.max_distance_km);if(n){const m=n.delivery_fee||0,l=n.min_delivery_time_minutes||0,u=l+15;return{fee:parseFloat(m.toFixed(2)),minTime:l,maxTime:u}}return null};var je="Collapsible",[To,Rs]=Ie(je),[Mo,Ve]=To(je),jr=i.forwardRef((s,o)=>{const{__scopeCollapsible:t,open:c,defaultOpen:n,disabled:m,onOpenChange:l,...u}=s,[x,g]=Xe({prop:c,defaultProp:n??!1,onChange:l,caller:je});return e.jsx(Mo,{scope:t,disabled:m,contentId:eo(),open:x,onOpenToggle:i.useCallback(()=>g(j=>!j),[g]),children:e.jsx(J.div,{"data-state":$e(x),"data-disabled":m?"":void 0,...u,ref:o})})});jr.displayName=je;var vr="CollapsibleTrigger",br=i.forwardRef((s,o)=>{const{__scopeCollapsible:t,...c}=s,n=Ve(vr,t);return e.jsx(J.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":$e(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...c,ref:o,onClick:fe(s.onClick,n.onOpenToggle)})});br.displayName=vr;var Le="CollapsibleContent",Nr=i.forwardRef((s,o)=>{const{forceMount:t,...c}=s,n=Ve(Le,s.__scopeCollapsible);return e.jsx(We,{present:t||n.open,children:({present:m})=>e.jsx(Oo,{...c,ref:o,present:m})})});Nr.displayName=Le;var Oo=i.forwardRef((s,o)=>{const{__scopeCollapsible:t,present:c,children:n,...m}=s,l=Ve(Le,t),[u,x]=i.useState(c),g=i.useRef(null),j=xe(o,g),w=i.useRef(0),_=w.current,f=i.useRef(0),y=f.current,v=l.open||u,$=i.useRef(v),V=i.useRef(void 0);return i.useEffect(()=>{const R=requestAnimationFrame(()=>$.current=!1);return()=>cancelAnimationFrame(R)},[]),ro(()=>{const R=g.current;if(R){V.current=V.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const U=R.getBoundingClientRect();w.current=U.height,f.current=U.width,$.current||(R.style.transitionDuration=V.current.transitionDuration,R.style.animationName=V.current.animationName),x(c)}},[l.open,c]),e.jsx(J.div,{"data-state":$e(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...m,ref:j,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...s.style},children:v&&n})});function $e(s){return s?"open":"closed"}var qo=jr;const Bo=qo,Do=br,zo=Nr,Go=()=>{const{items:s,subtotal:o,deliveryFee:t,total:c,totalItems:n}=Ye(),[m,l]=i.useState(!1);return n===0?null:e.jsxs(Bo,{open:m,onOpenChange:l,className:"lg:hidden sticky top-0 z-40 bg-card border-b shadow-md",children:[e.jsx(Do,{asChild:!0,children:e.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ho,{className:"h-5 w-5 text-primary"}),e.jsxs("span",{className:"font-semibold text-lg",children:["Seu Pedido (",n," ",n===1?"item":"itens",")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)}),m?e.jsx(to,{className:"h-5 w-5"}):e.jsx(no,{className:"h-5 w-5"})]})]})}),e.jsxs(zo,{className:"p-4 pt-0",children:[e.jsx(te,{className:"mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:s.map(u=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[u.quantity,"x ",u.name,u.notes&&e.jsxs("span",{className:"block text-xs italic",children:["(",u.notes,")"]})]}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.price*u.quantity)})]},u.id))}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa de Entrega:"}),e.jsx("span",{className:"font-medium text-primary",children:t>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t):"Grátis"})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)})]})]})]})]})},Cr=s=>s.replace(/\D/g,""),wr=s=>s.replace(/\D/g,""),ge=s=>s.replace(/\D/g,""),Ko=Zr({name:L().min(1,"Nome é obrigatório."),phone:L().min(1,"Telefone é obrigatório.").transform(Cr).refine(s=>s.length>=10,{message:"O telefone deve ter pelo menos 10 dígitos (incluindo DDD)."}),email:L().email("Email inválido.").optional().or(Jr("")),delivery_option:Hr(["delivery","pickup"],{required_error:"Selecione uma opção de entrega."}),street:L().optional().default(""),number:L().optional().default(""),complement:L().optional().default(""),neighborhood:L().optional().default(""),city:L().optional().default(""),zip_code:L().optional().default("").transform(wr).refine(s=>s.length===8||s.length===0,{message:"CEP inválido. Deve conter 8 dígitos."}),latitude:Ee(s=>typeof s=="string"?parseFloat(s):s,Ue.number().optional().nullable()),longitude:Ee(s=>typeof s=="string"?parseFloat(s):s,Ue.number().optional().nullable()),payment_method_id:L().min(1,"Selecione uma forma de pagamento."),notes:L().optional(),cpf_cnpj:L().optional().default("").transform(ge).refine(s=>s.length===0||s.length===11||s.length===14,{message:"CPF deve ter 11 dígitos ou CNPJ 14 dígitos."}),change_for:Ee(s=>{if(s==null||s==="")return null;const o=String(s).replace(",","."),t=parseFloat(o);return isNaN(t)?o:t},Qr({invalid_type_error:"O troco deve ser um número."}).optional().nullable())}).superRefine((s,o)=>{if(s.delivery_option==="delivery"&&(s.street.trim()===""&&o.addIssue({code:K.custom,message:"Rua é obrigatória.",path:["street"]}),s.number.trim()===""&&o.addIssue({code:K.custom,message:"Número é obrigatório.",path:["number"]}),s.neighborhood.trim()===""&&o.addIssue({code:K.custom,message:"Bairro é obrigatório.",path:["neighborhood"]}),s.city.trim()===""&&o.addIssue({code:K.custom,message:"Cidade é obrigatória.",path:["city"]}),s.zip_code.length!==8&&o.addIssue({code:K.custom,message:"CEP é obrigatório e deve ter 8 dígitos.",path:["zip_code"]}),(s.latitude===null||s.longitude===null)&&o.addIssue({code:K.custom,message:"A localização deve ser salva no mapa para calcular a taxa de entrega.",path:["latitude"]})),s.payment_method_id==="Dinheiro"&&s.change_for!==null&&s.change_for!==void 0&&s.change_for<=0&&o.addIssue({code:K.custom,message:"O valor do troco deve ser positivo.",path:["change_for"]}),s.payment_method_id==="Pagamento online: Pix/Cartão"){const n=ge(s.cpf_cnpj||"");n.length!==11&&n.length!==14&&o.addIssue({code:K.custom,message:"CPF/CNPJ é obrigatório para pagamento online.",path:["cpf_cnpj"]})}}),Uo=()=>{const s=window.location.origin,t=window.location.pathname.split("/")[1];return t?`${s}/${t}`:s},Zo=async()=>{const{data:s,error:o}=await q.from("restaurants").select("id, name, address, phone, email, street, number, neighborhood, city, zip_code, latitude, longitude, delivery_enabled").eq("is_active",!0).limit(1).single();if(o)throw new Error(`Erro ao buscar restaurante: ${o.message}`);if(!s)throw new Error("Nenhum restaurante ativo encontrado.");return s},Jo=async s=>{const{data:o,error:t}=await q.from("restaurants").select("delivery_enabled").eq("id",s).single();if(t)throw new Error(`Erro ao buscar status de entrega: ${t.message}`);return o.delivery_enabled??!0},Ho=async s=>{const{data:o,error:t}=await q.from("payment_methods").select("*").eq("restaurant_id",s).eq("is_active",!0).order("name",{ascending:!0});if(t)throw new Error(`Erro ao buscar métodos de pagamento: ${t.message}`);return o},Qo=async s=>{const{data:o,error:t}=await q.from("delivery_zones").select("*").eq("restaurant_id",s).eq("is_active",!0).order("max_distance_km",{ascending:!0});if(t)throw new Error(`Erro ao buscar zonas de entrega: ${t.message}`);return o},Wo=s=>{switch(s){case"DollarSign":return yo;case"Smartphone":return go;case"CreditCard":return or;case"Package":return xo;default:return rr}},Xo=({subtotal:s,deliveryFee:o,total:t,items:c})=>e.jsxs(de,{className:"sticky top-4",children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"Seu Pedido"})}),e.jsxs(pe,{className:"space-y-3",children:[e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:c.map(n=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[n.quantity,"x ",n.name,n.notes&&e.jsxs("span",{className:"block text-xs italic",children:["(",n.notes,")"]})]}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price*n.quantity)})]},n.id))}),e.jsx(te,{}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxa de Entrega:"}),e.jsx("span",{className:"font-medium text-primary",children:o>0?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o):"Grátis"})]})]}),e.jsx(te,{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"text-primary",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)})]})]})]}),Es=()=>{const s=Gr(),o=Dr(),t=Ye(),{items:c,subtotal:n,deliveryFee:m,total:l,setDeliveryFee:u,clearCart:x}=t,[g]=Kr(),[j,w]=i.useState(!1),[_,f]=i.useState(!1),[y,v]=i.useState(null),[$,V]=i.useState(null),R=g.get("status"),U=g.get("external_reference"),Ae=g.has("collection_id")||g.has("external_reference"),[ie,Te]=i.useState(!!U);i.useEffect(()=>{if(U)if(R==="approved"||R==="failure"||R==="pending"){s(`/order-success/${U}?status=${R}`,{replace:!0});return}else Ae&&(N.info("Pagamento cancelado.",{description:"Você pode tentar novamente ou escolher outro método de pagamento."}),window.history.replaceState({},document.title,window.location.pathname+window.location.hash.split("?")[0]),Te(!1));else Te(!1)},[U,R,Ae,s]);const{data:p,isLoading:_r,isError:Rr,error:Er}=ce({queryKey:["checkoutRestaurantData"],queryFn:Zo}),{data:z,isLoading:ve}=ce({queryKey:["deliveryStatus",p==null?void 0:p.id],queryFn:()=>Jo(p.id),enabled:!!(p!=null&&p.id)}),{data:H=[],isLoading:Pr}=ce({queryKey:["checkoutPaymentMethods",p==null?void 0:p.id],queryFn:()=>Ho(p.id),enabled:!!(p!=null&&p.id)}),{data:Me=[],isLoading:Sr}=ce({queryKey:["checkoutDeliveryZones",p==null?void 0:p.id],queryFn:()=>Qo(p.id),enabled:!!(p!=null&&p.id)}),Fr=_r||ve||Pr||Sr,Ir=Rr,Oe=Er,a=Wr({resolver:Xr(Ko),defaultValues:{name:"",phone:"",email:"",delivery_option:"delivery",street:"",number:"",complement:"",neighborhood:"",city:"",zip_code:"",payment_method_id:"",notes:"",cpf_cnpj:"",change_for:null,latitude:null,longitude:null},mode:"onBlur"}),B=a.watch("delivery_option"),be=a.watch("payment_method_id"),Q=H.find(r=>r.id===be),Z=(Q==null?void 0:Q.name)==="Pagamento online: Pix/Cartão",Y=(Q==null?void 0:Q.name)==="Dinheiro",S=a.watch("latitude"),F=a.watch("longitude");a.watch(["street","number","neighborhood","city","zip_code"]);const G=B==="delivery",kr=i.useMemo(()=>JSON.stringify({deliveryOption:B,deliveryEnabled:z,lat:S,lng:F}),[B,z,S,F]),Vr=i.useMemo(()=>typeof S=="number"&&typeof F=="number"&&!isNaN(S)&&!isNaN(F)?[S,F]:p!=null&&p.latitude&&(p!=null&&p.longitude)?[p.latitude,p.longitude]:[-23.55052,-46.633308],[S,F,p]),Lr=i.useMemo(()=>S===null||F===null?`map-${B}-null`:`map-${B}-${S.toFixed(6)}-${F.toFixed(6)}`,[G,B,S,F]),Ne=i.useCallback(r=>{const d=r.road||r.logradouro||"",h=r.house_number||"",b=r.suburb||r.bairro||"",E=r.city||r.localidade||"",A=r.postcode||r.cep||"";a.setValue("street",d,{shouldValidate:!0}),a.setValue("number",h||"",{shouldValidate:!0}),a.setValue("complement",r.suburb||"",{shouldValidate:!0}),a.setValue("neighborhood",b,{shouldValidate:!0}),a.setValue("city",E,{shouldValidate:!0}),a.setValue("zip_code",A,{shouldValidate:!0})},[a]),$r=i.useCallback(async(r,d)=>{a.setValue("latitude",r,{shouldValidate:!0}),a.setValue("longitude",d,{shouldValidate:!0});const h=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${r}&lon=${d}&addressdetails=1`,b=await fetch(h);if(b.ok){const E=await b.json();E.address&&(Ne(E.address),N.info("Endereço preenchido a partir do mapa."))}},[a,Ne]),Ar=i.useCallback(()=>{a.setValue("street","",{shouldValidate:!0}),a.setValue("number","",{shouldValidate:!0}),a.setValue("complement","",{shouldValidate:!0}),a.setValue("neighborhood","",{shouldValidate:!0}),a.setValue("city","",{shouldValidate:!0}),a.setValue("zip_code","",{shouldValidate:!0}),a.setValue("latitude",null,{shouldValidate:!0}),a.setValue("longitude",null,{shouldValidate:!0}),u(0),v(null),V(null),N.info("Endereço limpo."),localStorage.removeItem("checkoutFormData")},[a,u]),Ce=i.useCallback(r=>{try{const d={name:r.name,phone:r.phone,email:r.email,delivery_option:r.delivery_option,street:r.street,number:r.number,complement:r.complement,neighborhood:r.neighborhood,city:r.city,zip_code:r.zip_code,latitude:r.latitude,longitude:r.longitude};localStorage.setItem("checkoutFormData",JSON.stringify(d))}catch(d){console.error("Failed to save form data to local storage",d)}},[]),qe=i.useCallback(()=>{try{const r=localStorage.getItem("checkoutFormData");if(r){const d=JSON.parse(r);a.reset({...a.getValues(),...d,delivery_option:d.delivery_option||"delivery"})}}catch(r){console.error("Failed to load form data from local storage",r)}},[a]);i.useEffect(()=>{qe()},[qe]),i.useEffect(()=>{const r=a.watch(d=>{Ce(d)});return()=>r.unsubscribe()},[a,Ce]);const Tr=async()=>{const r=a.getValues(),[d,h,b,E,A]=[r.street,r.number,r.neighborhood,r.city,r.zip_code],le=wr(A);if(!(d&&h&&b&&E&&le.length===8)){console.log("LOG: Validação de endereço incompleto falhou."),N.error("Preencha o endereço completo (Rua, Número, Bairro, Cidade, CEP) antes de salvar.");return}console.log("LOG: Iniciando geocodificação para:",`${d}, ${h}, ${b}, ${E}, ${A}`),f(!0);const Re=N.loading("Buscando coordenadas e salvando endereço...");try{const W=`${d}, ${h}, ${b}, ${E}, ${A}`,T=await $o(W);T&&Number.isFinite(T[0])&&Number.isFinite(T[1])?(console.log("LOG: Geocodificação bem-sucedida. Coordenadas:",T),a.setValue("latitude",T[0],{shouldValidate:!0}),a.setValue("longitude",T[1],{shouldValidate:!0}),a.trigger("latitude"),Ce(a.getValues()),N.success("Endereço e localização salvos com sucesso!")):(console.log("LOG: Geocodificação falhou ou retornou coordenadas inválidas."),a.setValue("latitude",null,{shouldValidate:!0}),a.setValue("longitude",null,{shouldValidate:!0}),a.trigger("latitude"),N.error("Endereço não encontrado.",{description:"Por favor, verifique o endereço digitado e tente novamente.",duration:8e3}))}catch(W){console.error("LOG: Erro capturado durante a geocodificação:",W),a.setValue("latitude",null,{shouldValidate:!0}),a.setValue("longitude",null,{shouldValidate:!0}),a.trigger("latitude"),N.error("Erro ao buscar coordenadas.",{description:"Verifique sua conexão ou tente novamente.",duration:8e3})}finally{f(!1),N.dismiss(Re)}};i.useEffect(()=>{Y||a.setValue("change_for",null,{shouldValidate:!0})},[Y,a]),i.useEffect(()=>{B==="pickup"&&(u(0),v(null),V(null),a.setValue("latitude",null),a.setValue("longitude",null))},[B,G,a,u,S,F]),i.useEffect(()=>{H.length>0&&!be&&a.setValue("payment_method_id",H[0].id)},[H,be,a]),i.useEffect(()=>{Z?a.trigger("cpf_cnpj"):a.clearErrors("cpf_cnpj")},[Z,a]),i.useEffect(()=>{const r=async()=>{if(B==="pickup"||!(p!=null&&p.latitude)||!(p!=null&&p.longitude)){u(0),v(null),V(null);return}if(ve)return;if(z===!1){u(0),v(null),V(null),f(!1);return}f(!0),v(null);let h=null;if(S&&F)h=[S,F];else{u(0),V(null),f(!1);return}if(h){const b=[p.latitude,p.longitude],E=Ao(h,b,Me);E?(u(E.fee),v(null),V({minTime:E.minTime,maxTime:E.maxTime})):(u(0),v("Seu endereço está fora da nossa área de entrega."),V(null))}f(!1)},d=setTimeout(()=>{r()},500);return()=>clearTimeout(d)},[kr,p,Me,a,u,G,S,F,z,ve]),i.useEffect(()=>{if(c.length===0&&!j&&!ie){const r=setTimeout(()=>{N.info("Seu carrinho está vazio. Adicione itens para continuar."),s("/menu")},0);return()=>clearTimeout(r)}},[c.length,s,j,ie]);const Be=zr({mutationFn:async r=>{if(!p)throw new Error("Dados do restaurante indisponíveis.");if(r.delivery_option==="delivery"&&y)throw new Error(y);const d=[r.street,r.number,r.complement?`(${r.complement})`:null,r.neighborhood,r.city,r.zip_code].filter(Boolean).join(", "),h=r.delivery_option==="delivery"?d:"Retirada no Local";let b;const E=Cr(r.phone),A=ge(r.cpf_cnpj||""),{data:le}=await q.from("customers").select("id").eq("phone",E).limit(1).single();if(le)b=le.id,A&&await q.from("customers").update({cpf_cnpj:A}).eq("id",b);else{const{data:M,error:ee}=await q.from("customers").insert({name:r.name,phone:E,email:r.email||null,address:h,latitude:r.latitude,longitude:r.longitude,cpf_cnpj:A||null}).select("id").single();if(ee)throw new Error(`Erro ao criar cliente: ${ee.message}`);b=M.id}const ze=Z?"pending_payment":"pending",{data:Re,error:W}=await q.from("orders").insert({restaurant_id:p.id,customer_id:b,status:ze,total_amount:l,delivery_fee:m,notes:r.notes,delivery_address:h,payment_method_id:r.payment_method_id,change_for:Y?r.change_for:null}).select("id").single();if(W)throw new Error(`Erro ao criar pedido: ${W.message}`);const T=Re.id,Br=c.map(M=>({order_id:T,product_id:M.product_id,quantity:M.quantity,unit_price:M.price,subtotal:M.price*M.quantity,notes:M.notes})),{error:Ge}=await q.from("order_items").insert(Br);if(Ge)throw new Error(`Erro ao adicionar itens do pedido: ${Ge.message}`);if(Z){x(),w(!0),N.info("Redirecionando para o pagamento online...");const M=Uo(),ee={orderId:T,items:c,totalAmount:parseFloat(l.toFixed(2)),restaurantName:p.name,clientUrl:M,customerEmail:r.email||"cliente@pedido123.com",customerCpfCnpj:A};console.log("Payload enviado para create-payment-preference:",ee);try{const{data:D,error:Ke}=await q.functions.invoke("create-payment-preference",{body:ee});if(Ke)throw new Error(Ke.message);if(D&&D.error)throw new Error(`Mercado Pago Error: ${D.error}`);if(D&&D.init_point){window.location.href=D.init_point;return}else throw new Error("Resposta de pagamento inválida: init_point não encontrado.")}catch(D){throw console.error("Erro ao criar preferência de pagamento:",D),new Error(`Falha ao processar pagamento online: ${D.message}`)}}return T},onSuccess:r=>{Z||(N.success(`Pedido #${r.slice(-4)} realizado com sucesso!`),o.invalidateQueries({queryKey:["orders"]}),localStorage.removeItem("checkoutFormData"),s(`/order-success/${r}`))},onError:r=>{let d="Ocorreu um erro ao finalizar seu pedido. Por favor, tente novamente.";const h=r.message||"";h.includes("Mercado Pago Error:")?(d=h.split("Mercado Pago Error:")[1].trim(),d.includes("access token")&&(d="O Access Token do Mercado Pago está incorreto ou ausente. Por favor, verifique as configurações do restaurante.")):h.toLowerCase().includes("access token")||h.toLowerCase().includes("credentials")?d="Ocorreu um problema com a configuração de pagamento do restaurante. Por favor, entre em contato com o estabelecimento.":h.toLowerCase().includes("fora da nossa área de entrega")?d="Seu endereço está fora da nossa área de entrega.":h.toLowerCase().includes("inconsistência no valor total")?d="Erro de cálculo no pedido. Por favor, tente limpar o carrinho e refazer o pedido.":h.toLowerCase().includes("falha ao processar pagamento online")&&(d=h.split("Falha ao processar pagamento online:")[1]||"Erro ao processar pagamento online. Por favor, tente novamente."),N.error("Falha ao processar o pagamento",{description:d,duration:1e4}),w(!1)}}),Mr=async r=>{if(r.delivery_option==="delivery"&&(r.latitude===null||r.longitude===null)){a.setError("latitude",{type:"manual",message:"A localização deve ser salva no mapa para calcular a taxa de entrega."}),N.error('Por favor, clique em "Salvar Endereço" para confirmar a localização no mapa.');return}if(Z){const d=r.cpf_cnpj||"",h=ge(d);if(h.length!==11&&h.length!==14){a.setError("cpf_cnpj",{type:"manual",message:"CPF/CNPJ é obrigatório para pagamento online."}),N.error("Por favor, preencha o CPF/CNPJ corretamente.");return}}if(Y){const d=r.change_for;if(d!=null&&d<l){N.error(`O valor do troco (R$ ${d.toFixed(2).replace(".",",")}) deve ser maior ou igual ao total do pedido (R$ ${l.toFixed(2).replace(".",",")}).`);return}}Be.mutate(r)},Or=r=>{Object.keys(r).length>0&&N.error("Por favor, preencha todos os campos obrigatórios e corrija os erros.")};if(c.length===0&&!j&&!ie)return e.jsx("div",{className:"flex h-screen items-center justify-center",children:"Redirecionando..."});if(Fr||ie)return e.jsx(oo,{});if(Ir)return e.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:e.jsxs(oe,{variant:"destructive",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx(se,{children:"Erro de Conexão"}),e.jsx(ae,{children:Oe instanceof Error?Oe.message:"Não foi possível carregar os dados."})]})});const we=Be.isPending||j||_,qr=!G||!y&&m>=0,_e=!G||S!==null&&F!==null,De=!we&&qr&&_e;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-card sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 max-w-6xl flex items-center",children:[e.jsx(Ur,{to:"/menu",children:e.jsx(re,{variant:"ghost",size:"icon",className:"mr-4",children:e.jsx(fo,{className:"h-5 w-5"})})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Finalizar Pedido"})]})}),e.jsx("div",{children:e.jsx(Go,{})}),e.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-6xl pb-24 lg:pb-8",children:[" ",e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(uo,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(Mr,Or),className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"1. Seus Dados"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:a.control,name:"name",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Nome Completo *"}),e.jsx(O,{placeholder:"Seu nome",...r}),e.jsx(k,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(I,{control:a.control,name:"phone",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Telefone *"}),e.jsx(xr,{...r}),e.jsx(k,{})]})}),e.jsx(I,{control:a.control,name:"email",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Email (Opcional)"}),e.jsx(O,{placeholder:"seu@email.com",...r}),e.jsx(k,{})]})})]})]})]}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"2. Entrega"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:a.control,name:"delivery_option",render:({field:r})=>e.jsxs(C,{className:"space-y-3",children:[e.jsx(X,{children:e.jsxs(Se,{onValueChange:r.onChange,defaultValue:r.value,className:"flex flex-col space-y-1",children:[e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:"delivery"})}),e.jsx(Je,{className:"h-5 w-5 text-primary"}),e.jsxs(P,{className:ne("font-normal flex-1 cursor-pointer"),children:["Delivery",z===!1&&e.jsx("span",{className:"block text-xs text-muted-foreground",children:" (Taxa de entrega desativada, entrega gratuita)"})]})]}),e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:"pickup"})}),e.jsx(rr,{className:"h-5 w-5 text-primary"}),e.jsx(P,{className:"font-normal flex-1 cursor-pointer",children:"Retirada no Local"})]})]})}),e.jsx(k,{})]})}),G&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"})," Endereço de Entrega *"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:r=>{r.preventDefault(),Tr()},disabled:_,children:[e.jsx(bo,{className:"h-4 w-4 mr-2"})," Salvar Endereço"]}),e.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:Ar,children:[e.jsx(vo,{className:"h-4 w-4 mr-2"})," Limpar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(I,{control:a.control,name:"street",render:({field:r})=>e.jsxs(C,{className:"col-span-2",children:[e.jsx(P,{children:"Rua *"}),e.jsx(O,{...r}),e.jsx(k,{})]})}),e.jsx(I,{control:a.control,name:"number",render:({field:r})=>e.jsxs(C,{className:"col-span-1",children:[e.jsx(P,{children:"Número *"}),e.jsx(O,{...r}),e.jsx(k,{})]})})]}),e.jsx(I,{control:a.control,name:"complement",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Complemento (Opcional)"}),e.jsx(O,{placeholder:"Apto, Bloco, Casa, etc.",...r,disabled:!1}),e.jsx(k,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(I,{control:a.control,name:"neighborhood",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Bairro *"}),e.jsx(O,{...r}),e.jsx(k,{})]})}),e.jsx(I,{control:a.control,name:"city",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Cidade *"}),e.jsx(O,{...r}),e.jsx(k,{})]})})]}),e.jsx(I,{control:a.control,name:"zip_code",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"CEP *"}),e.jsx(mo,{...r}),e.jsx(k,{})]})}),G&&_e&&e.jsx("div",{children:e.jsx(po,{mapKey:Lr,markerPosition:Vr,onLocationChange:$r,updateAddressFields:Ne,restaurant:p})}),_&&z!==!1&&e.jsxs(oe,{children:[e.jsx(Pe,{className:"h-4 w-4 animate-spin"}),e.jsx(se,{children:"Calculando Taxa..."}),e.jsx(ae,{children:"Aguarde enquanto calculamos a taxa de entrega para o seu endereço."})]}),y&&z!==!1&&e.jsxs(oe,{variant:"destructive",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx(se,{children:"Erro de Entrega"}),e.jsx(ae,{children:y})]}),m>0&&!_&&z!==!1&&e.jsxs(oe,{className:"mt-4",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(se,{children:"Taxa de Entrega Aplicada"}),e.jsxs(ae,{children:["Taxa: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m)]})]}),G&&!_e&&e.jsxs(oe,{variant:"destructive",children:[e.jsx(He,{className:"h-4 w-4"}),e.jsx(se,{children:"Localização Obrigatória"}),e.jsx(ae,{children:'Clique em "Salvar Endereço" para confirmar a localização no mapa e calcular a taxa de entrega.'})]})]})]})]}),e.jsxs(de,{children:[e.jsx(ue,{children:e.jsx(me,{className:"text-xl",children:"3. Pagamento"})}),e.jsxs(pe,{className:"space-y-4",children:[e.jsx(I,{control:a.control,name:"payment_method_id",render:({field:r})=>e.jsxs(C,{className:"space-y-3",children:[e.jsx(X,{children:e.jsx(Se,{onValueChange:d=>{r.onChange(d);const h=H.find(b=>b.id===d);(h==null?void 0:h.name)!=="Dinheiro"&&a.setValue("change_for",null,{shouldValidate:!0}),(h==null?void 0:h.name)==="Pagamento online: Pix/Cartão"?a.trigger("cpf_cnpj"):a.clearErrors("cpf_cnpj")},defaultValue:r.value,className:"flex flex-col space-y-2",children:H.map(d=>{const h=Wo(d.icon||"Store");return e.jsxs(C,{className:"flex items-center space-x-3 space-y-0 border p-4 rounded-lg cursor-pointer",children:[e.jsx(X,{children:e.jsx(he,{value:d.id})}),e.jsx(h,{className:"h-5 w-5 text-primary"}),e.jsxs(P,{className:"font-normal flex-1 cursor-pointer",children:[d.name,e.jsx("span",{className:"block text-xs text-muted-foreground",children:d.description})]})]},d.id)})})}),e.jsx(k,{})]})}),Z&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(or,{className:"h-4 w-4"})," Detalhes Adicionais"]}),e.jsx(I,{control:a.control,name:"cpf_cnpj",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"CPF/CNPJ * (obrigatório para pagamento online)"}),e.jsx(X,{children:e.jsx(yr,{...r})}),e.jsx(k,{})]})})]}),Y&&e.jsx(I,{control:a.control,name:"change_for",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Precisa de troco para quanto? (R$)"}),e.jsx(O,{type:"number",step:"0.01",placeholder:new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2}).format(l),...r,value:r.value===null||r.value===void 0?"":String(r.value),onChange:d=>{const h=d.target.value;r.onChange(h===""?null:h)}}),e.jsx(k,{})]})}),e.jsx(I,{control:a.control,name:"notes",render:({field:r})=>e.jsxs(C,{children:[e.jsx(P,{children:"Observações do Pedido (Opcional)"}),e.jsx(co,{placeholder:"Ex: Tocar a campainha duas vezes...",...r,rows:2}),e.jsx(k,{})]})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card p-4 border-t shadow-2xl lg:hidden z-50",children:e.jsx(re,{type:"submit",className:"w-full h-12 text-lg",disabled:!De,children:we?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):`Finalizar Pedido - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l)}`})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(re,{type:"submit",className:"w-full h-12 text-lg",disabled:!De,children:we?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4 animate-spin"})," Processando..."]}):`Finalizar Pedido - ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l)}`})})]})})}),e.jsx("div",{className:"lg:col-span-1 hidden lg:block",children:e.jsx(Xo,{...t})})]})]})]})};export{Es as default};
