import{j as e,u as n}from"./tanstack-D8i8yNxB.js";import{u as i,r as o,L as c}from"./vendor-Dl0Wzy4_.js";import{B as l}from"./button-BbicL1io.js";import{C as u,b as d,c as m,a as p}from"./card-C0NzzEOj.js";import{s as x}from"./client-BmrnLCXS.js";import{c as f,a as h,v as g}from"./index-D7fwDE_N.js";import"./supabase-A1WgB1xz.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=f("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),j=()=>n({queryKey:["authStatus"],queryFn:async()=>{const{data:{session:a}}=await x.auth.getSession();return(a==null?void 0:a.user)||null},staleTime:1/0}),I=()=>{const a=i(),{data:s,isLoading:r}=j(),{totalItems:t}=h();return t===0?(a("/menu",{replace:!0}),null):r?e.jsx(g,{}):s?(a("/checkout",{replace:!0}),null):(o.useEffect(()=>{!s&&!r&&a("/auth",{replace:!0})},[s,r,a]),e.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(u,{className:"shadow-xl border-2",children:[e.jsx(d,{children:e.jsxs(m,{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-primary"}),"Acesso Necessário"]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Para finalizar seu pedido, você precisa estar logado. Redirecionando para a página de login..."}),e.jsx(c,{to:"/auth",children:e.jsx(l,{size:"lg",className:"w-full",children:"Ir para Login / Cadastro"})})]})]})})}))};export{I as default};
