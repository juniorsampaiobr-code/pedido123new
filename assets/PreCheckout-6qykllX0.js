import{j as o,u as f}from"./tanstack-C7aOFagJ.js";import{h as m,k as p,r as l}from"./vendor-DjsPZZVP.js";import{aw as h,i,s as g}from"./index-hMf46PLc.js";import{u as I}from"./use-active-restaurant-id-CHHz1qdW.js";import"./supabase-BAEEEeUB.js";const x=()=>f({queryKey:["authStatus"],queryFn:async()=>{const{data:{session:t}}=await g.auth.getSession();return(t==null?void 0:t.user)||null},staleTime:1/0}),k=()=>{const t=m(),[c]=p(),e=c.get("restaurantId"),{data:n,isLoading:s}=x(),{data:d,isLoading:a}=I(),{totalItems:r}=h(),u=e||d;return l.useEffect(()=>{if(r===0){u?t(`/menu/${u}`,{replace:!0}):a||t("/",{replace:!0});return}!s&&!a&&(n?t("/checkout",{replace:!0}):t("/auth",{state:{from:"/checkout",restaurantId:e},replace:!0}))},[r,n,s,a,t,u,e]),s||a||r===0?o.jsx(i,{}):o.jsx(i,{})};export{k as default};
