import{j as L}from"./tanstack-d4AvmB45.js";import{g as P,r as k,c as D}from"./vendor-CnEXr6gt.js";import"./index-kng9bGnv.js";import"./supabase-BZV_3FV3.js";var O={exports:{}};function R(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(l){try{u(r.next(l))}catch(h){o(h)}}function a(l){try{u(r.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):s(l.value).then(c,a)}u((r=r.apply(n,[])).next())})}function U(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var w,A;function F(){return A||(A=1,w=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),w}var G=F(),N=U(G);const _="__googleMapsScriptId";var y;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(y||(y={}));class m{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:s,id:i=_,language:o,libraries:c=[],mapIds:a,nonce:u,region:l,retries:h=3,url:d="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=s,this.id=i||_,this.language=o,this.libraries=c,this.mapIds=a,this.nonce=u,this.region=l,this.retries=h,this.url=d,this.version=g,m.instance){if(!N(this.options,m.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(m.instance.options)}`);return m.instance}m.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?y.FAILURE:this.done?y.SUCCESS:this.loading?y.LOADING:y.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(i=>{let o,c,a,u="The Google Maps JavaScript API",l="google",h="importLibrary",d="__ib__",g=document,f=window;f=f[l]||(f[l]={});const p=f.maps||(f.maps={}),E=new Set,v=new URLSearchParams,C=()=>o||(o=new Promise((S,b)=>R(this,void 0,void 0,function*(){var I;yield c=g.createElement("script"),c.id=this.id,v.set("libraries",[...E]+"");for(a in i)v.set(a.replace(/[A-Z]/g,j=>"_"+j[0].toLowerCase()),i[a]);v.set("callback",l+".maps."+d),c.src=this.url+"?"+v,p[d]=S,c.onerror=()=>o=b(Error(u+" could not load.")),c.nonce=this.nonce||((I=g.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",g.head.append(c)})));p[h]?console.warn(u+" only loads once. Ignoring:",i):p[h]=(S,...b)=>E.add(S)&&C().then(()=>p[h](S,...b))})(r);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const $=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ID:_,Loader:m,get LoaderStatus(){return y}},Symbol.toStringTag,{value:"Module"})),q=P($);(function(n,e){(function(t,r){r(e,q,k)})(D,function(t,r,s){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var o=i(s);t.Status=void 0,function(a){a.LOADING="LOADING",a.FAILURE="FAILURE",a.SUCCESS="SUCCESS"}(t.Status||(t.Status={}));const c=({children:a,render:u,callback:l,...h})=>{const[d,g]=s.useState(t.Status.LOADING);return s.useEffect(()=>{const f=new r.Loader(h),p=E=>{l&&l(E,f),g(E)};p(t.Status.LOADING),f.load().then(()=>p(t.Status.SUCCESS),()=>p(t.Status.FAILURE))},[]),d===t.Status.SUCCESS&&a?o.default.createElement(o.default.Fragment,null,a):u?u(d):o.default.createElement(o.default.Fragment,null)};t.Wrapper=c,Object.defineProperty(t,"__esModule",{value:!0})})})(O,O.exports);const Z=n=>L.jsx("div",{className:"flex items-center justify-center h-full text-destructive",children:"Erro: Chave VITE_GOOGLE_MAPS_API_KEY n√£o configurada."});export{Z as GoogleMapComponent};
